<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:ArchiDesignPatterns.Mobile.ViewModels"
             x:Class="ArchiDesignPatterns.Mobile.Pages.DesignPatterns.StrategyPatternPage"
             x:DataType="viewmodels:StrategyPatternViewModel"
             Title="Strategy">
    <Grid RowDefinitions="Auto,*">
        <!-- Header -->
        <Border Grid.Row="0"
                BackgroundColor="{StaticResource BehavioralPattern}"
                Padding="20,24,20,20"
                StrokeThickness="0">
            <VerticalStackLayout Spacing="8">
                <HorizontalStackLayout Spacing="12">
                    <Label Text="📝" FontSize="32" VerticalOptions="Center" />
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Strategy Pattern"
                               FontSize="28" FontAttributes="Bold"
                               TextColor="White" />
                        <Border BackgroundColor="White" Opacity="0.3"
                                Padding="8,4" StrokeThickness="0"
                                StrokeShape="RoundRectangle 6"
                                HorizontalOptions="Start">
                            <Label Text="Behavioral" FontSize="11"
                                   FontAttributes="Bold" TextColor="White" />
                        </Border>
                    </VerticalStackLayout>
                </HorizontalStackLayout>
            </VerticalStackLayout>
        </Border>
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Style="{StaticResource PatternDetailContainer}">
                <!-- Description Card -->
                <Border Style="{StaticResource ElevatedCard}">
                    <VerticalStackLayout Spacing="12">
                        <Label Text="ℹ️ Description" Style="{StaticResource SubTitle}" />
                        <BoxView Style="{StaticResource Divider}" Margin="0,0" />
                        <Label Text="The Strategy pattern enables selecting an algorithm's behavior at runtime. It defines a family of algorithms, encapsulates each one, and makes them interchangeable."
                               Style="{StaticResource BodyLarge}" LineBreakMode="WordWrap" />
                    </VerticalStackLayout>
                </Border>
                <!-- Interactive Example -->
                <Border Style="{StaticResource InteractiveSection}">
                    <VerticalStackLayout Spacing="16">
                        <HorizontalStackLayout Spacing="8">
                            <Label Text="📝" FontSize="20" VerticalOptions="Center" />
                            <Label Text="Interactive Example"
                                   Style="{StaticResource SubTitle}"
                                   TextColor="{StaticResource Primary}"
                                   VerticalOptions="Center" />
                        </HorizontalStackLayout>
                        <BoxView Style="{StaticResource Divider}" Margin="0,0" />
                        <Label Text="Choose a strategy and execute it:"
                               Style="{StaticResource BodyMedium}" />
                        <Picker ItemsSource="{Binding Strategies}" SelectedItem="{Binding SelectedStrategy}" />
                        <Button Text="Execute Strategy" Command="{Binding ExecuteStrategyCommand}" HorizontalOptions="Fill" />
                        <Label Text="{Binding Result}" Style="{StaticResource ResultLabel}" LineBreakMode="WordWrap" />
                    </VerticalStackLayout>
                </Border>
                <!-- Code Example -->
                <Border Style="{StaticResource CodeSection}">
                    <VerticalStackLayout Spacing="12">
                        <HorizontalStackLayout Spacing="8">
                            <Label Text="📝" FontSize="20" />
                            <Label Text="Code Example" Style="{StaticResource SubTitle}" />
                        </HorizontalStackLayout>
                        <BoxView Style="{StaticResource Divider}" Margin="0,0" />
                        <Editor Style="{StaticResource CodeEditor}"
                                Text="public interface IStrategy { string Execute(); }\npublic class ConcreteStrategyA : IStrategy { public string Execute() => &quot;A&quot;; }\npublic class ConcreteStrategyB : IStrategy { public string Execute() => &quot;B&quot;; }\npublic class Context { public IStrategy Strategy; public string Execute() => Strategy.Execute(); }" />
                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
